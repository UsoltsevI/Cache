#------------------------------------------------------------------------------
#
# CMake build system for cache LRU-K project
#
#------------------------------------------------------------------------------

# cmake -DCMAKE_BUILD_TYPE=Release -S . -B build
# VERBOSE=1 cmake --build ./build

cmake_minimum_required(VERSION 3.11)
project("cache")

SET(SRCS 
    source/cache.c
    source/hash.c
    source/list.c
    source/tree.c
)

add_library(lruklib STATIC ${SRCS})
target_include_directories(lruklib PUBLIC "include")

add_executable(lruk.x main.c)
target_link_libraries(lruk.x PUBLIC lruklib)

add_subdirectory(problem_lc)

# Executable file for comparison with cache_LRU 
# and testing with different K and M
add_executable(cache_compare.x ./tests/cache_compare.c)
target_link_libraries(cache_compare.x lruklib lrulib)

# An executable file for creating tests. 
# The responses generated by him will check 
# the cache for the correctness of the algorithm implementation.
# add_executable(test_cache.x ./tests/test_cache.c)
# target_link_libraries(lruklib)
